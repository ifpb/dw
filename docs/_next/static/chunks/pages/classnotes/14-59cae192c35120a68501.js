(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[223],{6643:function(e,n,a){"use strict";a.d(n,{Z:function(){return u}});var t=a(1717),s=a(6952),r=a(8742),d=a.n(r),m=a(7378),l=a(2541),o=a(6171),i=a(4246);function p(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function c(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?p(Object(a),!0).forEach((function(n){(0,t.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function u(e){var n=e.src,a=e.code,t=e.lang,r=(0,m.useState)(""),p=r[0],u=r[1];return(0,m.useEffect)((function(){function e(){return(e=(0,s.Z)(d().mark((function e(){var a,t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n);case 2:return a=e.sent,e.next=5,a.text();case 5:t=e.sent,u(t.trim());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a?u(a.trim()):function(){e.apply(this,arguments)}()}),[]),(0,i.jsx)(l.default,c(c({},l.defaultProps),{},{code:p,language:t,theme:o.default,children:function(e){var n=e.className,a=e.style,t=e.tokens,s=e.getLineProps,r=e.getTokenProps;return(0,i.jsx)("pre",{children:(0,i.jsx)("code",{className:n,style:a,children:t.map((function(e,n){return(0,i.jsx)("div",c(c({},s({line:e,key:n})),{},{children:e.map((function(e,n){return(0,i.jsx)("span",c({},r({token:e,key:n})))}))}))}))})})}}))}},5360:function(e,n,a){"use strict";a.r(n);var t=a(7397),s=a(1750),r=(a(7378),a(5318)),d=a(4955),m=a.n(d),l=a(7913),o=a(5979),i=(a(8579),a(6643)),p=["components"],c=function(e){return(0,l.withSSG)(m()({filename:"index.mdx",route:"/classnotes/14",meta:{},pageMap:[{name:"classnote",route:"/classnote"},{name:"classnotes",children:[{name:"01",children:[{name:"index",route:"/classnotes/01"},{name:"meta.json",meta:{index:"Aula 01"}}],route:"/classnotes/01"},{name:"02",children:[{name:"index",route:"/classnotes/02"},{name:"meta.json",meta:{index:"Aula 02"}}],route:"/classnotes/02"},{name:"03",children:[{name:"index",route:"/classnotes/03"},{name:"meta.json",meta:{index:"Aula 03"}}],route:"/classnotes/03"},{name:"04",children:[{name:"index",route:"/classnotes/04"},{name:"meta.json",meta:{index:"Aula 04"}}],route:"/classnotes/04"},{name:"05",children:[{name:"index",route:"/classnotes/05"},{name:"meta.json",meta:{index:"Aula 05"}}],route:"/classnotes/05"},{name:"06",children:[{name:"index",route:"/classnotes/06"},{name:"meta.json",meta:{index:"Aula 06"}}],route:"/classnotes/06"},{name:"07",children:[{name:"index",route:"/classnotes/07"},{name:"meta.json",meta:{index:"Aula 07"}}],route:"/classnotes/07"},{name:"08",children:[{name:"index",route:"/classnotes/08"},{name:"meta.json",meta:{index:"Aula 08"}}],route:"/classnotes/08"},{name:"09",children:[{name:"index",route:"/classnotes/09"},{name:"meta.json",meta:{index:"Aula 09"}}],route:"/classnotes/09"},{name:"10",children:[{name:"index",route:"/classnotes/10"},{name:"meta.json",meta:{index:"Aula 10"}}],route:"/classnotes/10"},{name:"11",children:[{name:"index",route:"/classnotes/11"},{name:"meta.json",meta:{index:"Aula 11"}}],route:"/classnotes/11"},{name:"12",children:[{name:"index",route:"/classnotes/12"},{name:"meta.json",meta:{index:"Aula 12"}}],route:"/classnotes/12"},{name:"13",children:[{name:"index",route:"/classnotes/13"},{name:"meta.json",meta:{index:"Aula 13"}}],route:"/classnotes/13"},{name:"14",children:[{name:"index",route:"/classnotes/14"},{name:"meta.json",meta:{index:"Aula 14"}}],route:"/classnotes/14"},{name:"15",children:[{name:"index",route:"/classnotes/15"},{name:"meta.json",meta:{index:"Aula 15"}}],route:"/classnotes/15"},{name:"16",children:[{name:"index",route:"/classnotes/16"},{name:"meta.json",meta:{index:"Aula 16"}}],route:"/classnotes/16"},{name:"meta.json",meta:{10:{title:"Aula 10",type:"nav",hidden:!0},11:{title:"Aula 11",type:"nav",hidden:!0},12:{title:"Aula 12",type:"nav",hidden:!0},13:{title:"Aula 13",type:"nav",hidden:!0},14:{title:"Aula 14",type:"nav",hidden:!0},15:{title:"Aula 15",type:"nav",hidden:!0},16:{title:"Aula 16",type:"nav",hidden:!0},"01":{title:"Aula 01",type:"nav",hidden:!0},"02":{title:"Aula 02",type:"nav",hidden:!0},"03":{title:"Aula 03",type:"nav",hidden:!0},"04":{title:"Aula 04",type:"nav",hidden:!0},"05":{title:"Aula 05",type:"nav",hidden:!0},"06":{title:"Aula 06",type:"nav",hidden:!0},"07":{title:"Aula 07",type:"nav",hidden:!0},"08":{title:"Aula 08",type:"nav",hidden:!0},"09":{title:"Aula 09",type:"nav",hidden:!0}}}],route:"/classnotes"},{name:"content",route:"/content"},{name:"exams",children:[{name:"meta.json",meta:{projeto:"Projeto"}},{name:"projeto",route:"/exams/projeto"}],route:"/exams"},{name:"index",route:"/"},{name:"meta.json",meta:{index:"Disciplina",classnote:"Aulas",classnotes:{title:"Aulas",type:"nav",hidden:!0},content:"Conte\xfado",outline:{title:"Roteiro",type:"nav",hidden:!0},tools:"Ferramentas",exams:{title:"Exames",type:"nav",hidden:!0}}},{name:"tools",route:"/tools"}]},o.Z))(e)};function u(e){var n=e.components,a=(0,s.Z)(e,p);return(0,r.mdx)(c,(0,t.Z)({components:n},a),(0,r.mdx)("h1",null,"Database"),(0,r.mdx)("h2",null,"MySQL"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-text",parentName:"pre"},"$ docker run --name mysql -e MYSQL_ROOT_PASSWORD=secret -d mysql:8.0\n")),(0,r.mdx)("p",null,(0,r.mdx)("a",{href:"docker-compose.yml",parentName:"p"},"docker-compose.yml"),":"),(0,r.mdx)(i.Z,{src:"/dw/codes/db-simple/container/docker-compose.yml",lang:"yaml",mdxType:"Code"}),(0,r.mdx)("p",null,(0,r.mdx)("a",{href:".env",parentName:"p"},".env"),":"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-text",parentName:"pre"},"MYSQL_ROOT_PASSWORD=secret\nMYSQL_DATABASE=example\nMYSQL_USER=devuser\nMYSQL_PASSWORD=secret\n")),(0,r.mdx)("p",null,"Load database:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-text",parentName:"pre"},"$ docker-compose up -d\n$ docker-compose ps\n Name                Command               State                 Ports\n------------------------------------------------------------------------------------\nadminer   entrypoint.sh docker-php-e ...   Up      0.0.0.0:8080->8080/tcp\nmysql     docker-entrypoint.sh --def ...   Up      0.0.0.0:3306->3306/tcp, 33060/tcp\n")),(0,r.mdx)("p",null,"VSCode:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{href:"https://marketplace.visualstudio.com/items?itemName=mtxr.sqltools",parentName:"li"},"SQLTools")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{href:"https://marketplace.visualstudio.com/items?itemName=mtxr.sqltools-driver-mysql",parentName:"li"},"SQLTools MySQL/MariaDB")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{href:"https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-docker",parentName:"li"},"Docker"))),(0,r.mdx)("p",null,"Docker:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{href:"https://hub.docker.com/_/adminer",parentName:"li"},"Adminer")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{href:"https://hub.docker.com/_/mysql",parentName:"li"},"MySQL"))),(0,r.mdx)("h2",null,"Dataset"),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr"},"name"),(0,r.mdx)("th",{parentName:"tr"},"address"),(0,r.mdx)("th",{parentName:"tr"},"transmitted"),(0,r.mdx)("th",{parentName:"tr"},"received"),(0,r.mdx)("th",{parentName:"tr"},"time"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr"},"portal.ifrn.edu.br"),(0,r.mdx)("td",{parentName:"tr"},"10.0.0.100"),(0,r.mdx)("td",{parentName:"tr"},"4"),(0,r.mdx)("td",{parentName:"tr"},"4"),(0,r.mdx)("td",{parentName:"tr"},"2018-02-16 13:41:49")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr"},"portal.ifrn.edu.br"),(0,r.mdx)("td",{parentName:"tr"},"10.0.0.100"),(0,r.mdx)("td",{parentName:"tr"},"8"),(0,r.mdx)("td",{parentName:"tr"},"4"),(0,r.mdx)("td",{parentName:"tr"},"2018-02-16 13:41:49")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr"},"portal.ifrn.edu.br"),(0,r.mdx)("td",{parentName:"tr"},"10.0.0.100"),(0,r.mdx)("td",{parentName:"tr"},"4"),(0,r.mdx)("td",{parentName:"tr"},"3"),(0,r.mdx)("td",{parentName:"tr"},"2018-02-16 13:41:49")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr"},"..."),(0,r.mdx)("td",{parentName:"tr"},"..."),(0,r.mdx)("td",{parentName:"tr"},"..."),(0,r.mdx)("td",{parentName:"tr"},"..."),(0,r.mdx)("td",{parentName:"tr"},"...")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr"},(0,r.mdx)("a",{href:"http://www.ifpb.edu.br",parentName:"td"},"www.ifpb.edu.br")),(0,r.mdx)("td",{parentName:"tr"},"200.10.10.12"),(0,r.mdx)("td",{parentName:"tr"},"5"),(0,r.mdx)("td",{parentName:"tr"},"5"),(0,r.mdx)("td",{parentName:"tr"},"2018-02-18 13:41:49")))),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Quest\xf5es")),(0,r.mdx)("ol",null,(0,r.mdx)("li",{parentName:"ol"},"Quantos pacotes foram recebidos?"),(0,r.mdx)("li",{parentName:"ol"},"Qual \xe9 a m\xe9dia de pacotes perdidos?"),(0,r.mdx)("li",{parentName:"ol"},"Qual \xe9 a porcentagem de pacotes recebidos do IFPB?"),(0,r.mdx)("li",{parentName:"ol"},"Qual \xe9 a porcentagem de pacotes perdidos do IFPB no dia 16/02/2018 entre 09:00 at\xe9 18:00?")),(0,r.mdx)("h2",null,"Data Definition Language (DDL)"),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"DICAS:")),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"Os comandos n\xe3o s\xe3o ",(0,r.mdx)("em",{parentName:"li"},"case sensitive")),(0,r.mdx)("li",{parentName:"ul"},"Os nomes s\xe3o ",(0,r.mdx)("em",{parentName:"li"},"case sensitive")),(0,r.mdx)("li",{parentName:"ul"},"N\xe3o esque\xe7a do ",(0,r.mdx)("inlineCode",{parentName:"li"},";")," nos comandos"),(0,r.mdx)("li",{parentName:"ul"},"Em caso de erro tente interpretar a mensagem de erro")),(0,r.mdx)("h3",null,"Database"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> SHOW DATABASES;\n+--------------------+\n| Database           |\n+--------------------+\n| information_schema |\n| mysql              |\n| performance_schema |\n+--------------------+\n3 rows in set (0.00 sec)\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> CREATE DATABASE monitor_db;\nQuery OK, 1 row affected (0.00 sec)\n\n> SHOW DATABASES;\n+--------------------+\n| Database           |\n+--------------------+\n| information_schema |\n| monitor_db         |\n| mysql              |\n| performance_schema |\n+--------------------+\n4 rows in set (0.00 sec)\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> DROP DATABASE monitor_db;\nQuery OK, 0 rows affected (0.00 sec)\n\n> SHOW DATABASES;\n+--------------------+\n| Database           |\n+--------------------+\n| information_schema |\n| mysql              |\n| performance_schema |\n+--------------------+\n3 rows in set (0.00 sec)\n")),(0,r.mdx)("h3",null,"Table"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> USE monitor_db;\nDatabase changed\n\n> SELECT DATABASE();\n+------------+\n| DATABASE() |\n+------------+\n| monitor_db |\n+------------+\n1 row in set (0.00 sec)\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> SHOW TABLES;\nEmpty set (0.00 sec)\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> CREATE TABLE host (\n  id int NOT NULL AUTO_INCREMENT,\n  name varchar(100) NOT NULL,\n  address varchar(100) NOT NULL,\n  PRIMARY KEY (id)\n);\nQuery OK, 0 rows affected (0.00 sec)\n\n> SHOW TABLES;\n+----------------------+\n| Tables_in_monitor_db |\n+----------------------+\n| host                 |\n+----------------------+\n1 row in set (0.00 sec)\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> DESCRIBE host;\n+---------+--------------+------+-----+---------+----------------+\n| Field   | Type         | Null | Key | Default | Extra          |\n+---------+--------------+------+-----+---------+----------------+\n| id      | int          | NO   | PRI | NULL    | auto_increment |\n| name    | varchar(100) | NO   |     | NULL    |                |\n| address | varchar(100) | NO   |     | NULL    |                |\n+---------+--------------+------+-----+---------+----------------+\n3 rows in set (0.00 sec)\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> DROP TABLE host;\nQuery OK, 0 rows affected (0.00 sec)\n\n> SHOW TABLES;\n+----------------------+\n| Tables_in_monitor_db |\n+----------------------+\n| host                 |\n+----------------------+\n1 row in set (0.01 sec)\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> RENAME TABLE host TO hosts;\nQuery OK, 0 rows affected (0.00 sec)\n\n> SHOW TABLES;\n+----------------------+\n| Tables_in_monitor_db |\n+----------------------+\n| hosts                |\n+----------------------+\n1 row in set (0.01 sec)\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> DESCRIBE hosts;\n+---------+--------------+------+-----+---------+----------------+\n| Field   | Type         | Null | Key | Default | Extra          |\n+---------+--------------+------+-----+---------+----------------+\n| id      | int          | NO   | PRI | NULL    | auto_increment |\n| name    | varchar(100) | NO   |     | NULL    |                |\n| address | varchar(100) | NO   |     | NULL    |                |\n+---------+--------------+------+-----+---------+----------------+\n\n> ALTER TABLE hosts ADD COLUMN mask varchar(100);\nQuery OK, 0 rows affected (0.01 sec)\nRecords: 0  Duplicates: 0  Warnings: 0\n\n> DESCRIBE hosts;\n+---------+--------------+------+-----+---------+----------------+\n| Field   | Type         | Null | Key | Default | Extra          |\n+---------+--------------+------+-----+---------+----------------+\n| id      | int          | NO   | PRI | NULL    | auto_increment |\n| name    | varchar(100) | NO   |     | NULL    |                |\n| address | varchar(100) | NO   |     | NULL    |                |\n| mask    | varchar(100) | YES  |     | NULL    |                |\n+---------+--------------+------+-----+---------+----------------+\n4 rows in set (0.00 sec)\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> ALTER TABLE hosts DROP COLUMN mask;\nQuery OK, 0 rows affected (0.01 sec)\nRecords: 0  Duplicates: 0  Warnings: 0\n\n> DESCRIBE hosts;\n+---------+--------------+------+-----+---------+----------------+\n| Field   | Type         | Null | Key | Default | Extra          |\n+---------+--------------+------+-----+---------+----------------+\n| id      | int          | NO   | PRI | NULL    | auto_increment |\n| name    | varchar(100) | NO   |     | NULL    |                |\n| address | varchar(100) | NO   |     | NULL    |                |\n+---------+--------------+------+-----+---------+----------------+\n3 rows in set (0.00 sec)\n")),(0,r.mdx)("h2",null,"Data Manipulation Language (DML)"),(0,r.mdx)("h3",null,"INSERT"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> INSERT INTO hosts\n    VALUES (1, 'www.ifpb.edu.br', '200.10.10.10');\nQuery OK, 1 row affected (0.01 sec)\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> INSERT INTO hosts\n      (name, address)\n    VALUES\n      ('www.ifrn.edu.br', '200.10.10.11'),\n      ('www.ifpb.edu.br', '200.10.10.12');\nQuery OK, 2 rows affected (0.01 sec)\nRecords: 2  Duplicates: 0  Warnings: 0\n")),(0,r.mdx)("h3",null,"SELECT"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> SELECT * FROM hosts;\n+----+-----------------+--------------+\n| id | name            | address      |\n+----+-----------------+--------------+\n|  1 | www.ifpb.edu.br | 200.10.10.10 |\n|  2 | www.ifrn.edu.br | 200.10.10.11 |\n|  3 | www.ifpb.edu.br | 200.10.10.12 |\n+----+-----------------+--------------+\n3 rows in set (0.00 sec)\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> SELECT name, address FROM hosts;\n+-----------------+--------------+\n| name            | address      |\n+-----------------+--------------+\n| www.ifpb.edu.br | 200.10.10.10 |\n| www.ifrn.edu.br | 200.10.10.11 |\n| www.ifpb.edu.br | 200.10.10.12 |\n+-----------------+--------------+\n3 rows in set (0.00 sec)\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> SELECT name, address FROM hosts\n    ORDER BY name;\n+-----------------+--------------+\n| name            | address      |\n+-----------------+--------------+\n| www.ifpb.edu.br | 200.10.10.10 |\n| www.ifpb.edu.br | 200.10.10.12 |\n| www.ifrn.edu.br | 200.10.10.11 |\n+-----------------+--------------+\n3 rows in set (0.01 sec)\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> SELECT name, address FROM hosts\n    WHERE id = 1;\n+-----------------+--------------+\n| name            | address      |\n+-----------------+--------------+\n| www.ifpb.edu.br | 200.10.10.10 |\n+-----------------+--------------+\n1 row in set (0.00 sec)\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> SELECT name, address FROM hosts\n    WHERE name LIKE '%ifpb%' AND address LIKE '200.%.%.%';\n+-----------------+--------------+\n| name            | address      |\n+-----------------+--------------+\n| www.ifpb.edu.br | 200.10.10.10 |\n| www.ifpb.edu.br | 200.10.10.12 |\n+-----------------+--------------+\n2 rows in set (0.00 sec)\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> SELECT * FROM hosts\n    LIMIT 2;\n+----+-----------------+--------------+\n| id | name            | address      |\n+----+-----------------+--------------+\n|  1 | www.ifpb.edu.br | 200.10.10.10 |\n|  2 | www.ifrn.edu.br | 200.10.10.11 |\n+----+-----------------+--------------+\n2 rows in set (0.00 sec)\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> SELECT * FROM hosts\n    LIMIT 2\n    OFFSET 1;\n+----+-----------------+--------------+\n| id | name            | address      |\n+----+-----------------+--------------+\n|  2 | www.ifrn.edu.br | 200.10.10.11 |\n|  3 | www.ifpb.edu.br | 200.10.10.12 |\n+----+-----------------+--------------+\n2 rows in set (0.00 sec)\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> SELECT COUNT(*) AS total FROM hosts;\n+-------+\n| total |\n+-------+\n|     3 |\n+-------+\n1 row in set (0.00 sec)\n")),(0,r.mdx)("h3",null,"UPDATE"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> UPDATE hosts\n    SET address = '10.0.0.10'\n    WHERE id = 2;\nQuery OK, 1 row affected (0.01 sec)\nRows matched: 1  Changed: 1  Warnings: 0\n\n> SELECT * FROM hosts\n    WHERE id = 2;\n+----+-----------------+-----------+\n| id | name            | address   |\n+----+-----------------+-----------+\n|  2 | www.ifrn.edu.br | 10.0.0.10 |\n+----+-----------------+-----------+\n1 row in set (0.00 sec)\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> UPDATE hosts\n    SET name = 'portal.ifrn.edu.br', address = '10.0.0.100'\n    WHERE id = 2;\nQuery OK, 1 row affected (0.01 sec)\nRows matched: 1  Changed: 1  Warnings: 0\n\n> SELECT * FROM hosts\n    WHERE id = 2;\n+----+--------------------+------------+\n| id | name               | address    |\n+----+--------------------+------------+\n|  2 | portal.ifrn.edu.br | 10.0.0.100 |\n+----+--------------------+------------+\n")),(0,r.mdx)("h3",null,"DELETE"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> SELECT * FROM hosts;\n+----+-----------------+--------------+\n| id | name            | address      |\n+----+-----------------+--------------+\n|  1 | www.ifpb.edu.br | 200.10.10.10 |\n+----+-----------------+--------------+\n\n> DELETE FROM hosts\n    WHERE id = 1;\nQuery OK, 1 row affected (0.01 sec)\n\n> SELECT * FROM hosts\n    WHERE id = 1;\nEmpty set (0.00 sec)\n")),(0,r.mdx)("blockquote",null,(0,r.mdx)("p",{parentName:"blockquote"},(0,r.mdx)("strong",{parentName:"p"},"DICA:")," Muito cuidado com o ",(0,r.mdx)("inlineCode",{parentName:"p"},"DELETE")," e ",(0,r.mdx)("inlineCode",{parentName:"p"},"UPDATE")," sem o ",(0,r.mdx)("inlineCode",{parentName:"p"},"WHERE"),"!")),(0,r.mdx)("h2",null,"Database Relationships"),(0,r.mdx)("h3",null,"1-N"),(0,r.mdx)("p",null,(0,r.mdx)("img",{src:"/dw/imgs/db-simple/monitor_db.png",alt:"erd diagram",parentName:"p"})),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> CREATE TABLE histories (\n    id int NOT NULL AUTO_INCREMENT,\n    transmitted int NOT NULL,\n    received int NOT NULL,\n    time datetime NOT NULL,\n    host_id int NOT NULL,\n    PRIMARY KEY (id),\n    KEY host_id (host_id),\n    CONSTRAINT fk_host_id FOREIGN KEY (host_id) REFERENCES hosts (id)\n);\nQuery OK, 0 rows affected (0.02 sec)\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> DESCRIBE histories;\n+-------------+------+------+-----+---------+----------------+\n| Field       | Type | Null | Key | Default | Extra          |\n+-------------+------+------+-----+---------+----------------+\n| id          | int  | NO   | PRI | NULL    | auto_increment |\n| transmitted | int  | YES  |     | NULL    |                |\n| received    | int  | YES  |     | NULL    |                |\n| time        | time | YES  |     | NULL    |                |\n| host_id     | int  | YES  | MUL | NULL    |                |\n+-------------+------+------+-----+---------+----------------+\n5 rows in set (0.00 sec)\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> INSERT INTO histories\n    (transmitted, received, time, host_id)\n  VALUES\n    (4, 4, NOW(), 2),\n    (8, 4, NOW(), 2),\n    (7, 4, NOW(), 3),\n    (5, 5, NOW(), 3),\n    (4, 3, NOW(), 2);\nQuery OK, 5 rows affected (0.01 sec)\nRecords: 5  Duplicates: 0  Warnings: 0\n\n> SELECT * FROM histories;\n+----+-------------+----------+---------------------+---------+\n| id | transmitted | received | time                | host_id |\n+----+-------------+----------+---------------------+---------+\n|  1 |           4 |        4 | 2018-02-16 13:41:49 |       2 |\n|  2 |           8 |        4 | 2018-02-16 13:41:49 |       2 |\n|  3 |           7 |        4 | 2018-02-16 13:41:49 |       3 |\n|  4 |           5 |        5 | 2018-02-16 13:41:49 |       3 |\n|  5 |           4 |        3 | 2018-02-16 13:41:49 |       2 |\n+----+-------------+----------+---------------------+---------+\n5 rows in set (0.00 sec)\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> SELECT\n    *\n  FROM\n    hosts INNER JOIN histories;\n+----+--------------------+--------------+----+-------------+----------+---------------------+---------+\n| id | name               | address      | id | transmitted | received | time                | host_id |\n+----+--------------------+--------------+----+-------------+----------+---------------------+---------+\n|  2 | portal.ifrn.edu.br | 10.0.0.100   |  1 |           4 |        4 | 2018-02-16 13:41:49 |       2 |\n|  3 | www.ifpb.edu.br    | 200.10.10.12 |  1 |           4 |        4 | 2018-02-16 13:41:49 |       2 |\n|  2 | portal.ifrn.edu.br | 10.0.0.100   |  2 |           8 |        4 | 2018-02-16 13:41:49 |       2 |\n|  3 | www.ifpb.edu.br    | 200.10.10.12 |  2 |           8 |        4 | 2018-02-16 13:41:49 |       2 |\n|  2 | portal.ifrn.edu.br | 10.0.0.100   |  3 |           7 |        4 | 2018-02-16 13:41:49 |       3 |\n|  3 | www.ifpb.edu.br    | 200.10.10.12 |  3 |           7 |        4 | 2018-02-16 13:41:49 |       3 |\n|  2 | portal.ifrn.edu.br | 10.0.0.100   |  4 |           5 |        5 | 2018-02-16 13:41:49 |       3 |\n|  3 | www.ifpb.edu.br    | 200.10.10.12 |  4 |           5 |        5 | 2018-02-16 13:41:49 |       3 |\n|  2 | portal.ifrn.edu.br | 10.0.0.100   |  5 |           4 |        3 | 2018-02-16 13:41:49 |       2 |\n|  3 | www.ifpb.edu.br    | 200.10.10.12 |  5 |           4 |        3 | 2018-02-16 13:41:49 |       2 |\n+----+--------------------+--------------+----+-------------+----------+---------------------+---------+\n10 rows in set (0.00 sec)\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> SELECT\n    *\n  FROM\n    hosts INNER JOIN histories\n  WHERE\n    hosts.id = histories.host_id;\n+----+--------------------+--------------+----+-------------+----------+---------------------+---------+\n| id | name               | address      | id | transmitted | received | time                | host_id |\n+----+--------------------+--------------+----+-------------+----------+---------------------+---------+\n|  2 | portal.ifrn.edu.br | 10.0.0.100   |  1 |           4 |        4 | 2018-02-16 13:41:49 |       2 |\n|  2 | portal.ifrn.edu.br | 10.0.0.100   |  2 |           8 |        4 | 2018-02-16 13:41:49 |       2 |\n|  2 | portal.ifrn.edu.br | 10.0.0.100   |  5 |           4 |        3 | 2018-02-16 13:41:49 |       2 |\n|  3 | www.ifpb.edu.br    | 200.10.10.12 |  3 |           7 |        4 | 2018-02-16 13:41:49 |       3 |\n|  3 | www.ifpb.edu.br    | 200.10.10.12 |  4 |           5 |        5 | 2018-02-16 13:41:49 |       3 |\n+----+--------------------+--------------+----+-------------+----------+---------------------+---------+\n5 rows in set (0.00 sec)\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> SELECT\n    sum(histories.received) AS received,\n    sum(histories.transmitted) AS transmitted,\n    round(sum(histories.received)/sum(histories.transmitted), 2) AS percent\n  FROM\n    hosts INNER JOIN histories\n  WHERE\n    hosts.id = histories.host_id AND\n    hosts.name LIKE '%ifpb%';\n+----------+-------------+---------+\n| received | transmitted | percent |\n+----------+-------------+---------+\n|        9 |          12 |    0.75 |\n+----------+-------------+---------+\n1 row in set (0.00 sec)\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-sql",parentName:"pre"},"> exit\nBye\n")),(0,r.mdx)("h2",null,"MVC com Banco de Dados"),(0,r.mdx)("p",null,(0,r.mdx)("img",{src:"/dw/imgs/db-simple/mvc.png",alt:"",parentName:"p"})),(0,r.mdx)("h2",null,"Aplica\xe7\xe3o com SQLite"),(0,r.mdx)("h3",null,"Estrutura de C\xf3digo"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-text",parentName:"pre"},"foods-app\n\u251c\u2500\u2500 .gitignore\n\u251c\u2500\u2500 package-lock.json\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 public\n\u2502   \u251c\u2500\u2500 css\n\u2502   \u2502   \u2514\u2500\u2500 bootstrap.min.css\n\u2502   \u251c\u2500\u2500 foods.html\n\u2502   \u251c\u2500\u2500 imgs\n\u2502   \u2502   \u251c\u2500\u2500 hamburguer.jpg\n\u2502   \u2502   \u251c\u2500\u2500 salada.jpg\n\u2502   \u2502   \u2514\u2500\u2500 sanduiche.jpg\n\u2502   \u2514\u2500\u2500 js\n\u2502       \u251c\u2500\u2500 bootstrap.min.js\n\u2502       \u251c\u2500\u2500 jquery.min.js\n\u2502       \u2514\u2500\u2500 popper.min.js\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 controllers\n    \u2502   \u2514\u2500\u2500 foodsController.js\n    \u251c\u2500\u2500 db\n    \u2502   \u251c\u2500\u2500 database.sqlite\n    \u2502   \u2514\u2500\u2500 index.js\n    \u251c\u2500\u2500 index.js\n    \u251c\u2500\u2500 migrations\n    \u2502   \u2514\u2500\u2500 index.js\n    \u251c\u2500\u2500 models\n    \u2502   \u2514\u2500\u2500 Food.js\n    \u251c\u2500\u2500 routes\n    \u2502   \u2514\u2500\u2500 index.js\n    \u251c\u2500\u2500 seeders\n    \u2502   \u2514\u2500\u2500 index.js\n    \u2514\u2500\u2500 views\n        \u251c\u2500\u2500 foods\n        \u2502   \u2514\u2500\u2500 index.njk\n        \u2514\u2500\u2500 layout.njk\n")),(0,r.mdx)("p",null,(0,r.mdx)("a",{href:"https://codesandbox.io/s/express-foods-app-sqlite-simple-y472j?fontsize=14&hidenavigation=1&theme=dark",parentName:"p"},(0,r.mdx)("img",{src:"https://codesandbox.io/static/img/play-codesandbox.svg",alt:"Edit express-foods-app-sqlite-simple",parentName:"a"}))),(0,r.mdx)("h3",null,"Loader"),(0,r.mdx)("p",null,"src/index.js:"),(0,r.mdx)(i.Z,{src:"/dw/codes/db-simple/foods-app-sqlite-simple/src/index.js",lang:"js",mdxType:"Code"}),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-bash",parentName:"pre"},"$ npm install express nunjucks\n")),(0,r.mdx)("h3",null,"Migration"),(0,r.mdx)("p",null,(0,r.mdx)("a",{href:"https://marketplace.visualstudio.com/items?itemName=alexcvzz.vscode-sqlite",parentName:"p"},"vscode-sqlite"),":"),(0,r.mdx)("p",null,(0,r.mdx)("img",{src:"/dw/imgs/db-simple/database.png",alt:"",parentName:"p"})),(0,r.mdx)("p",null,"src/migrations/index.js:"),(0,r.mdx)(i.Z,{src:"/dw/codes/db-simple/foods-app-sqlite-simple/src/migrations/index.js",lang:"js",mdxType:"Code"}),(0,r.mdx)("h3",null,"Database"),(0,r.mdx)("p",null,"src/db-simple/index.js:"),(0,r.mdx)(i.Z,{src:"/dw/codes/db-simple/foods-app-sqlite-simple/src/db-simple/index.js",lang:"js",mdxType:"Code"}),(0,r.mdx)("pre",null,(0,r.mdx)("code",{className:"language-bash",parentName:"pre"},"$ npm install sqlite-async\n")),(0,r.mdx)("h3",null,"Model"),(0,r.mdx)("p",null,"src/models/Food.js:"),(0,r.mdx)(i.Z,{src:"/dw/codes/db-simple/foods-app-sqlite-simple/src/models/Food.js",lang:"js",mdxType:"Code"}),(0,r.mdx)("h3",null,"Controller"),(0,r.mdx)("p",null,"src/controllers/foodsController.js:"),(0,r.mdx)(i.Z,{src:"/dw/codes/db-simple/foods-app-sqlite-simple/src/controllers/foodsController.js",lang:"js",mdxType:"Code"}),(0,r.mdx)("h3",null,"Chamada de Sistema"),(0,r.mdx)("p",null,(0,r.mdx)("a",{href:"https://codesandbox.io/s/top-app-db-2bw2o?fontsize=14&hidenavigation=1&theme=dark",parentName:"p"},(0,r.mdx)("img",{src:"https://codesandbox.io/static/img/play-codesandbox.svg",alt:"Edit top-app-db",parentName:"a"}))),(0,r.mdx)("h2",null,"References"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{href:"https://github.com/vasudeveloper001/completesql/blob/main/sql_notes.md",parentName:"li"},"SQL Complete Guide")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{href:"https://github.com/enochtangg/quick-SQL-cheatsheet",parentName:"li"},"enochtangg/quick-SQL-cheatsheet")),(0,r.mdx)("li",{parentName:"ul"},"SQL Tutorial: ",(0,r.mdx)("a",{href:"https://www.w3schools.com/sql/default.asp",parentName:"li"},"W3Schools")," e ",(0,r.mdx)("a",{href:"https://www.tutorialspoint.com/sql/index.htm",parentName:"li"},"TutorialsPoint")),(0,r.mdx)("li",{parentName:"ul"},"SQL cheat sheet: ",(0,r.mdx)("a",{href:"https://websitesetup.org/sql-cheat-sheet/",parentName:"li"},"Websitesetup"),", ",(0,r.mdx)("a",{href:"https://zeroturnaround.com/rebellabs/sql-cheat-sheet/",parentName:"li"},"ZeroTurnaround"),", ",(0,r.mdx)("a",{href:"http://cse.unl.edu/~sscott/ShowFiles/SQL/CheatSheet/SQLCheatSheet.html",parentName:"li"},"cse.unl.edu"),", ",(0,r.mdx)("a",{href:"https://gist.github.com/hofmannsven/9164408",parentName:"li"},"hofmannsven"),", ",(0,r.mdx)("a",{href:"http://www.sqltutorial.org/sql-cheat-sheet/",parentName:"li"},"sqltutorial")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{href:"https://sqliteonline.com/",parentName:"li"},"SQlite Online")),(0,r.mdx)("li",{parentName:"ul"},"Databases",(0,r.mdx)("ul",{parentName:"li"},(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{href:"https://www.sqlite.org/index.html",parentName:"li"},"SQlite"),": ",(0,r.mdx)("a",{href:"https://www.sqlite.org/lang.html",parentName:"li"},"SQL"),", ",(0,r.mdx)("a",{href:"https://www.sqlite.org/datatype3.html",parentName:"li"},"Datatypes")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{href:"https://dev.mysql.com/doc/refman/5.7/en/sql-syntax.html",parentName:"li"},"MySQL"),": ",(0,r.mdx)("a",{href:"https://www.tutorialspoint.com/mysql/mysql-data-types.htm",parentName:"li"},"Datatypes"),", ",(0,r.mdx)("a",{href:"https://www.w3schools.com/sql/sql_ref_mysql.asp",parentName:"li"},"Functions"),", ",(0,r.mdx)("a",{href:"https://www.w3schools.com/sql/sql_operators.asp",parentName:"li"},"Operators")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{href:"https://docs.oracle.com/database/121/SQLRF/toc.htm",parentName:"li"},"Oracle"))))))}u.isMDXComponent=!0,n.default=u},6385:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/classnotes/14",function(){return a(5360)}])},6952:function(e,n,a){"use strict";function t(e,n,a,t,s,r,d){try{var m=e[r](d),l=m.value}catch(o){return void a(o)}m.done?n(l):Promise.resolve(l).then(t,s)}function s(e){return function(){var n=this,a=arguments;return new Promise((function(s,r){var d=e.apply(n,a);function m(e){t(d,s,r,m,l,"next",e)}function l(e){t(d,s,r,m,l,"throw",e)}m(void 0)}))}}a.d(n,{Z:function(){return s}})}},function(e){e.O(0,[734,36,774,888,179],(function(){return n=6385,e(e.s=n);var n}));var n=e.O();_N_E=n}]);