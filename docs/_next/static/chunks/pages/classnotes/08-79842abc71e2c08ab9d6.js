(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[72],{6643:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var a=t(1717),s=t(6952),o=t(8742),r=t.n(o),d=t(7378),m=t(2541),l=t(6171),p=t(4246);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function u(e){var n=e.src,t=e.code,a=e.lang,o=(0,d.useState)(""),c=o[0],u=o[1];return(0,d.useEffect)((function(){function e(){return(e=(0,s.Z)(r().mark((function e(){var t,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n);case 2:return t=e.sent,e.next=5,t.text();case 5:a=e.sent,u(a.trim());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t?u(t.trim()):function(){e.apply(this,arguments)}()}),[]),(0,p.jsx)(m.default,i(i({},m.defaultProps),{},{code:c,language:a,theme:l.default,children:function(e){var n=e.className,t=e.style,a=e.tokens,s=e.getLineProps,o=e.getTokenProps;return(0,p.jsx)("pre",{children:(0,p.jsx)("code",{className:n,style:t,children:a.map((function(e,n){return(0,p.jsx)("div",i(i({},s({line:e,key:n})),{},{children:e.map((function(e,n){return(0,p.jsx)("span",i({},o({token:e,key:n})))}))}))}))})})}}))}},6152:function(e,n,t){"use strict";t.r(n);var a=t(7397),s=t(1750),o=(t(7378),t(5318)),r=t(4955),d=t.n(r),m=t(7913),l=t(5979),p=(t(8579),t(6643)),c=["components"],i=function(e){return(0,m.withSSG)(d()({filename:"index.mdx",route:"/classnotes/08",meta:{},pageMap:[{name:"classnote",route:"/classnote"},{name:"classnotes",children:[{name:"01",children:[{name:"index",route:"/classnotes/01"},{name:"meta.json",meta:{index:"Aula 01"}}],route:"/classnotes/01"},{name:"02",children:[{name:"index",route:"/classnotes/02"},{name:"meta.json",meta:{index:"Aula 02"}}],route:"/classnotes/02"},{name:"03",children:[{name:"index",route:"/classnotes/03"},{name:"meta.json",meta:{index:"Aula 03"}}],route:"/classnotes/03"},{name:"04",children:[{name:"index",route:"/classnotes/04"},{name:"meta.json",meta:{index:"Aula 04"}}],route:"/classnotes/04"},{name:"05",children:[{name:"index",route:"/classnotes/05"},{name:"meta.json",meta:{index:"Aula 05"}}],route:"/classnotes/05"},{name:"06",children:[{name:"index",route:"/classnotes/06"},{name:"meta.json",meta:{index:"Aula 06"}}],route:"/classnotes/06"},{name:"07",children:[{name:"index",route:"/classnotes/07"},{name:"meta.json",meta:{index:"Aula 07"}}],route:"/classnotes/07"},{name:"08",children:[{name:"index",route:"/classnotes/08"},{name:"meta.json",meta:{index:"Aula 08"}}],route:"/classnotes/08"},{name:"09",children:[{name:"index",route:"/classnotes/09"},{name:"meta.json",meta:{index:"Aula 09"}}],route:"/classnotes/09"},{name:"10",children:[{name:"index",route:"/classnotes/10"},{name:"meta.json",meta:{index:"Aula 10"}}],route:"/classnotes/10"},{name:"11",children:[{name:"index",route:"/classnotes/11"},{name:"meta.json",meta:{index:"Aula 11"}}],route:"/classnotes/11"},{name:"12",children:[{name:"index",route:"/classnotes/12"},{name:"meta.json",meta:{index:"Aula 12"}}],route:"/classnotes/12"},{name:"13",children:[{name:"index",route:"/classnotes/13"},{name:"meta.json",meta:{index:"Aula 13"}}],route:"/classnotes/13"},{name:"14",children:[{name:"index",route:"/classnotes/14"},{name:"meta.json",meta:{index:"Aula 14"}}],route:"/classnotes/14"},{name:"15",children:[{name:"index",route:"/classnotes/15"},{name:"meta.json",meta:{index:"Aula 15"}}],route:"/classnotes/15"},{name:"16",children:[{name:"index",route:"/classnotes/16"},{name:"meta.json",meta:{index:"Aula 16"}}],route:"/classnotes/16"},{name:"meta.json",meta:{10:{title:"Aula 10",type:"nav",hidden:!0},11:{title:"Aula 11",type:"nav",hidden:!0},12:{title:"Aula 12",type:"nav",hidden:!0},13:{title:"Aula 13",type:"nav",hidden:!0},14:{title:"Aula 14",type:"nav",hidden:!0},15:{title:"Aula 15",type:"nav",hidden:!0},16:{title:"Aula 16",type:"nav",hidden:!0},"01":{title:"Aula 01",type:"nav",hidden:!0},"02":{title:"Aula 02",type:"nav",hidden:!0},"03":{title:"Aula 03",type:"nav",hidden:!0},"04":{title:"Aula 04",type:"nav",hidden:!0},"05":{title:"Aula 05",type:"nav",hidden:!0},"06":{title:"Aula 06",type:"nav",hidden:!0},"07":{title:"Aula 07",type:"nav",hidden:!0},"08":{title:"Aula 08",type:"nav",hidden:!0},"09":{title:"Aula 09",type:"nav",hidden:!0}}}],route:"/classnotes"},{name:"content",route:"/content"},{name:"exams",children:[{name:"meta.json",meta:{projeto:"Projeto"}},{name:"projeto",route:"/exams/projeto"}],route:"/exams"},{name:"index",route:"/"},{name:"meta.json",meta:{index:"Disciplina",classnote:"Aulas",classnotes:{title:"Aulas",type:"nav",hidden:!0},content:"Conte\xfado",outline:{title:"Roteiro",type:"nav",hidden:!0},tools:"Ferramentas",exams:{title:"Exames",type:"nav",hidden:!0}}},{name:"tools",route:"/tools"}]},l.Z))(e)};function u(e){var n=e.components,t=(0,s.Z)(e,c);return(0,o.mdx)(i,(0,a.Z)({components:n},t),(0,o.mdx)("h1",null,"Client Side Rendering"),(0,o.mdx)("h2",null,"Conte\xfado Din\xe2mico"),(0,o.mdx)("p",null,(0,o.mdx)("img",{src:"/dw/imgs/fetch/preview.png",alt:"",parentName:"p"})),(0,o.mdx)("p",null,"C\xf3digo:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{className:"language-text",parentName:"pre"},"hosts-app\n\u251c\u2500\u2500 back\n\u2502   \u251c\u2500\u2500 .gitignore\n\u2502   \u251c\u2500\u2500 db.json\n\u2502   \u251c\u2500\u2500 package-lock.json\n\u2502   \u251c\u2500\u2500 package.json\n\u2502   \u251c\u2500\u2500 resquest.http\n\u2502   \u2514\u2500\u2500 src\n\u2502       \u2514\u2500\u2500 index.js\n\u2514\u2500\u2500 front\n    \u251c\u2500\u2500 index.html\n    \u2514\u2500\u2500 js\n        \u251c\u2500\u2500 index.js\n        \u2514\u2500\u2500 services\n            \u2514\u2500\u2500 api.js\n")),(0,o.mdx)("h3",null,"Front"),(0,o.mdx)("p",null,(0,o.mdx)("a",{href:"https://codesandbox.io/s/host-app-front-uvrug?fontsize=14&hidenavigation=1&theme=dark",parentName:"p"},(0,o.mdx)("img",{src:"https://codesandbox.io/static/img/play-codesandbox.svg",alt:"Edit host-app-front",parentName:"a"}))),(0,o.mdx)("p",null,"hosts-app/front/index.html:"),(0,o.mdx)(p.Z,{src:"/dw/codes/fetch/hosts-app/front/index.html",lang:"html",mdxType:"Code"}),(0,o.mdx)("p",null,"hosts-app/front/js/index.js:"),(0,o.mdx)(p.Z,{src:"/dw/codes/fetch/hosts-app/front/js/index.js",lang:"js",mdxType:"Code"}),(0,o.mdx)("h3",null,"Back"),(0,o.mdx)("p",null,(0,o.mdx)("a",{href:"https://codesandbox.io/s/host-app-back-moeem?fontsize=14&hidenavigation=1&theme=dark",parentName:"p"},(0,o.mdx)("img",{src:"https://codesandbox.io/static/img/play-codesandbox.svg",alt:"Edit host-app-back",parentName:"a"}))),(0,o.mdx)("p",null,"REST API"),(0,o.mdx)("table",null,(0,o.mdx)("thead",{parentName:"table"},(0,o.mdx)("tr",{parentName:"thead"},(0,o.mdx)("th",{parentName:"tr"},"M\xe9todo"),(0,o.mdx)("th",{parentName:"tr"},"Caminho"),(0,o.mdx)("th",{parentName:"tr"},"Resposta"))),(0,o.mdx)("tbody",{parentName:"table"},(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr"},"POST"),(0,o.mdx)("td",{parentName:"tr"},(0,o.mdx)("inlineCode",{parentName:"td"},"/hosts")),(0,o.mdx)("td",{parentName:"tr"},"Cria uma novo host")),(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr"},"GET"),(0,o.mdx)("td",{parentName:"tr"},(0,o.mdx)("inlineCode",{parentName:"td"},"/hosts")),(0,o.mdx)("td",{parentName:"tr"},"Retorna todas os hosts")),(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr"},"GET"),(0,o.mdx)("td",{parentName:"tr"},(0,o.mdx)("inlineCode",{parentName:"td"},"/hosts/1")),(0,o.mdx)("td",{parentName:"tr"},"Retorna o host de ID 1")),(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr"},"PUT"),(0,o.mdx)("td",{parentName:"tr"},(0,o.mdx)("inlineCode",{parentName:"td"},"/hosts/1")),(0,o.mdx)("td",{parentName:"tr"},"Atualiza o host de ID 1")),(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr"},"DELETE"),(0,o.mdx)("td",{parentName:"tr"},(0,o.mdx)("inlineCode",{parentName:"td"},"/hosts/1")),(0,o.mdx)("td",{parentName:"tr"},"Exclui o host de ID 1")))),(0,o.mdx)("p",null,"hosts-app/back/db.json:"),(0,o.mdx)(p.Z,{src:"/dw/codes/fetch/hosts-app/back/db.json",lang:"json",mdxType:"Code"}),(0,o.mdx)("p",null,"hosts-app/back/src/index.js:"),(0,o.mdx)(p.Z,{src:"/dw/codes/fetch/hosts-app/back/src/index.js",lang:"js",mdxType:"Code"}),(0,o.mdx)("p",null,(0,o.mdx)("a",{href:"https://github.com/typicode/json-server",parentName:"p"},"json-server"),":"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{className:"language-text",parentName:"pre"},"$ npm init -y\n$ npm install json-server\n")),(0,o.mdx)("p",null,"hosts-app/back/package.json:"),(0,o.mdx)(p.Z,{src:"/dw/codes/fetch/hosts-app/back/package.json",lang:"json",mdxType:"Code"}),(0,o.mdx)("pre",null,(0,o.mdx)("code",{className:"language-text",parentName:"pre"},"$ npm start\n")),(0,o.mdx)("p",null,(0,o.mdx)("a",{href:"http://localhost:3000/hosts",parentName:"p"},"localhost:3000/hosts"),":"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{className:"language-json",parentName:"pre"},'[\n  {\n    "name": "Server",\n    "address": "10.0.0.10",\n    "mask": "255.255.255.0",\n    "id": 1\n  },\n  {\n    "name": "PC 1",\n    "address": "192.168.0.1",\n    "mask": "255.255.255.0",\n    "id": 2\n  }\n]\n')),(0,o.mdx)("p",null,"back/request.http (",(0,o.mdx)("a",{href:"https://marketplace.visualstudio.com/items?itemName=humao.rest-client",parentName:"p"},"VS Code - Rest Client"),"):"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{className:"language-text",parentName:"pre"},"### Create Host\n\n### Read Hosts\n\nGET http://localhost:3000/hosts\n\n### Read Host by ID\n\n### Update Host\n\n### Delete Host\n")),(0,o.mdx)("h2",null,"Fetch API"),(0,o.mdx)("p",null,"front/js/services/api.js:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{className:"language-js",parentName:"pre"},"const domain = 'http://localhost:3000';\n\nasync function create(resource, data) {}\n\nasync function read(resource) {}\n\nasync function update(resource, data) {}\n\nasync function destroy(resource) {}\n\nexport default { create, read, update, destroy };\n")),(0,o.mdx)("h3",null,"Read"),(0,o.mdx)("p",null,"Request (Codesandbox - ",(0,o.mdx)("a",{href:"https://moeem.sse.codesandbox.io/hosts",parentName:"p"},"Read"),"):"),(0,o.mdx)("p",null,(0,o.mdx)("img",{src:"/dw/imgs/fetch/read-hosts.png",alt:"",parentName:"p"})),(0,o.mdx)("pre",null,(0,o.mdx)("code",{className:"language-txt",parentName:"pre"},"### Read Hosts\n\nGET http://localhost:3000/hosts\n")),(0,o.mdx)("p",null,"Code:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{className:"language-js",parentName:"pre"},"async function read(resource) {\n  const res = await fetch(`${domain}${resource}`);\n\n  return await res.json();\n}\n")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{className:"language-js",parentName:"pre"},"api.read('/hosts');\n")),(0,o.mdx)("h3",null,"Create"),(0,o.mdx)("p",null,"Resquest (",(0,o.mdx)("a",{href:"https://reqbin.com/75sw4s9x",parentName:"p"},"REQBIN - Create"),"):"),(0,o.mdx)("p",null,(0,o.mdx)("img",{src:"/dw/imgs/fetch/create-host.png",alt:"",parentName:"p"})),(0,o.mdx)("pre",null,(0,o.mdx)("code",{className:"language-text",parentName:"pre"},'### Create Host\n\nPOST http://localhost:3000/hosts\nContent-Type: application/json\n\n{\n  "name": "PC 2",\n  "address": "192.168.0.2",\n  "mask": "255.255.255.0"\n}\n')),(0,o.mdx)("p",null,"Code:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{className:"language-js",parentName:"pre"},"async function create(resource, data) {\n  const res = await fetch(`${domain}${resource}`, {\n    method: 'post',\n    body: JSON.stringify(data),\n    headers: {\n      'Content-Type': 'application/json; charset=UTF-8',\n    },\n  });\n\n  return await res.json();\n}\n")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{className:"language-js",parentName:"pre"},'const host = {\n  name: "PC 2",\n  address: "192.168.0.2",\n  mask: "255.255.255.0"\n}\n\napi.create(\'/hosts\', host);\n')),(0,o.mdx)("h3",null,"Update"),(0,o.mdx)("p",null,"Resquest (",(0,o.mdx)("a",{href:"https://reqbin.com/rmigtirs",parentName:"p"},"REQBIN - Upadte"),"):"),(0,o.mdx)("p",null,(0,o.mdx)("img",{src:"/dw/imgs/fetch/update-host.png",alt:"",parentName:"p"})),(0,o.mdx)("pre",null,(0,o.mdx)("code",{className:"language-text",parentName:"pre"},'### Update Host\n\nPUT http://localhost:3000/hosts/3\nContent-Type: application/json\n\n{\n  "name": "PC 2",\n  "address": "192.168.0.20",\n  "mask": "255.255.255.0"\n}\n')),(0,o.mdx)("p",null,"Code:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{className:"language-js",parentName:"pre"},"async function update(resource, data) {\n  const res = await fetch(`${domain}${resource}`, {\n    method: 'put',\n    body: JSON.stringify(data),\n    headers: {\n      'Content-Type': 'application/json; charset=UTF-8',\n    },\n  });\n\n  return await res.json();\n}\n")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{className:"language-js",parentName:"pre"},'const host = {\n  name: "PC 2",\n  address: "192.168.0.20",\n  mask: "255.255.255.0"\n}\n\napi.update(\'/hosts/3\', host);\n')),(0,o.mdx)("h3",null,"Delete"),(0,o.mdx)("p",null,"Request (",(0,o.mdx)("a",{href:"https://reqbin.com/8cwfroas",parentName:"p"},"REQBIN - Delete"),")"),(0,o.mdx)("p",null,(0,o.mdx)("img",{src:"/dw/imgs/fetch/delete-host.png",alt:"",parentName:"p"})),(0,o.mdx)("pre",null,(0,o.mdx)("code",{className:"language-text",parentName:"pre"},"### Delete Host\n\nDELETE http://localhost:3000/hosts/3\n")),(0,o.mdx)("p",null,"Code:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{className:"language-js",parentName:"pre"},"async function destroy(resource) {\n  await fetch(`${domain}${resource}`, {\n    method: 'delete',\n  });\n}\n")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{className:"language-js",parentName:"pre"},"api.destroy('/hosts/1');\n")))}u.isMDXComponent=!0,n.default=u},7735:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/classnotes/08",function(){return t(6152)}])},6952:function(e,n,t){"use strict";function a(e,n,t,a,s,o,r){try{var d=e[o](r),m=d.value}catch(l){return void t(l)}d.done?n(m):Promise.resolve(m).then(a,s)}function s(e){return function(){var n=this,t=arguments;return new Promise((function(s,o){var r=e.apply(n,t);function d(e){a(r,s,o,d,m,"next",e)}function m(e){a(r,s,o,d,m,"throw",e)}d(void 0)}))}}t.d(n,{Z:function(){return s}})}},function(e){e.O(0,[734,36,774,888,179],(function(){return n=7735,e(e.s=n);var n}));var n=e.O();_N_E=n}]);