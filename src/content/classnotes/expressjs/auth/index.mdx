---
title: Autenticação
---

import CodePreview from '../../../../components/CodePreview.astro';
import CodeTree from '../../../../components/CodeTree.astro';

# {frontmatter.title}

<CodeTree src="/codes/expressjs/monitor-app-prismajs-auth" githubUrl={true} />

## Router

Fluxo de Requisição:

![](/dw/imgs/expressjs/auth/jwt-request.png)

[JSON Web Token (JWT)](https://jwt.io/#debugger-io?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTYzMzkxNDc3MiwiZXhwIjoxNjMzOTE1MDcyfQ.wGs4R42bIwKhTiFWVZrs-QGs_0bEWSc69rjylXj7nPE):

![](/dw/imgs/expressjs/auth/jwt-token.png)

```bash
$ npm install jsonwebtoken
```

<CodePreview src="/codes/expressjs/monitor-app-prismajs-auth/back/.env.example" highlightLines="13" />

<CodePreview src="/codes/expressjs/monitor-app-prismajs-auth/back/src/middleware/auth.js" />

<CodePreview src="/codes/expressjs/monitor-app-prismajs-auth/back/src/routes.js" highlightLines="2,10,23,39,57,73,91,105,125,147,159,194" />

<CodePreview src="/codes/expressjs/monitor-app-prismajs-auth/back/requests.http" highlightLines="4,6-58,72" />

## Teste

[Jest](https://jestjs.io/), [Supertest](https://github.com/ladjs/supertest):

```bash
$ npm i jest supertest -D

$ npm run test
```

<CodePreview src="/codes/expressjs/monitor-app-prismajs-auth/back/src/routes.test.js" highlightLines="31-35,73" />

.skip()

```js
describe.skip()

it.skip()
```

Cobertura de Testes

<CodePreview src="/codes/expressjs/monitor-app-prismajs-auth/back/package.json" />

```bash
$ npm run test:coverage
```

## View

![](/dw/imgs/expressjs/auth/signin.png)

<CodePreview src="/codes/expressjs/monitor-app-prismajs-auth/front/signup.html" />

<CodePreview src="/codes/expressjs/monitor-app-prismajs-auth/front/js/signup.js" />

<CodePreview src="/codes/expressjs/monitor-app-prismajs-auth/front/js/services/storage.js" />

<CodePreview src="/codes/expressjs/monitor-app-prismajs-auth/front/js/services/auth.js" />

![](/dw/imgs/expressjs/auth/home.png)

<CodePreview src="/codes/expressjs/monitor-app-prismajs-auth/front/home.html" />

<CodePreview src="/codes/expressjs/monitor-app-prismajs-auth/front/js/home.js" />
